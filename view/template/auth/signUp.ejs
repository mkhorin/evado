<%
const title = _t('Sign up');
const error = model.getFirstError('register');
layout(_view.get('_layout/auth'));
block('title', title);
%>

<p class="login-box-msg">
    <%- _t('Register a new user') %>
</p>

<% if (error) { %>
<div class="alert-danger alert"><%- _t(error) %></div>
<% } %>

<form method="post" class="form">

    <%- include('./_input', {
        attr: 'name',
        iconClass: 'glyphicon glyphicon-user'
    }) %>

    <%- include('./_input', {
        attr: 'email',
        type: 'email',
        iconClass: 'glyphicon glyphicon-envelope'
    }) %>

    <%- include('./_input', {
        attr: 'password',
        type: 'password',
        iconClass: 'glyphicon glyphicon-lock',
        value: '',
        autocomplete: 'new-password'
    }) %>

    <%- include('./_input', {
        attr: 'passwordRepeat',
        type: 'password',
        iconClass: 'glyphicon glyphicon-lock',
        value: '',
        autocomplete: 'new-password'
    }) %>

    <%- include('./_captcha', {
        attr: 'captchaCode',
        iconClass: 'glyphicon glyphicon-check',
        url: 'auth/captcha'
    }) %>

    <div class="form-attr form-group mt20">
        <button type="submit" class="btn btn-primary btn-block btn-flat">
            <%- title %>
        </button>
    </div>
</form>

<div class="text-center mt20">
    <a href="auth/sign-in">
        <%- _t('Sign in') %>
    </a>
</div>